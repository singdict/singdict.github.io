import{w as I}from"./singletons.45018de4.js";import{s as b,J as T,w as m,f as v,g as P,h as D,d,U as _,O as p,i as L,L as M,M as w,N as C,B as g,C as N,p as O}from"./scheduler.d70b54e9.js";import{S as j,i as k,a as q,t as x}from"./index.4ee4b432.js";import{g as B,j as E,s as y}from"./utils.4783f3e4.js";function F(){const{subscribe:s,set:o,update:a}=I([]);function r(c){a(t=>t.filter(e=>e.id!==c))}function n(c){const t=c.id??"__internal__:"+Math.random().toString(36).substring(8),{duration:e=5e3,message:l,type:i="default"}=c;a(f=>[...f,{id:t,message:l,type:i,duration:e}]),setTimeout(()=>r(t),e)}return{subscribe:s,add:n,remove:r,removeAll:()=>o([])}}const W=F();const G=s=>({}),h=s=>({open:s[2],close:s[1],setModal:s[3]});function J(s){let o,a;const r=s[8].default,n=T(r,s,s[7],h);let c=[s[4]],t={};for(let e=0;e<c.length;e+=1)t=m(t,c[e]);return{c(){o=v("dialog"),n&&n.c(),this.h()},l(e){o=P(e,"DIALOG",{});var l=D(o);n&&n.l(l),l.forEach(d),this.h()},h(){_(o,t),p(o,"svelte-16uwvex",!0)},m(e,l){L(e,o,l),n&&n.m(o,null),s[9](o),a=!0},p(e,[l]){n&&n.p&&(!a||l&128)&&M(n,r,e,e[7],a?C(r,e[7],l,G):w(e[7]),h),_(o,t=B(c,[l&16&&e[4]])),p(o,"svelte-16uwvex",!0)},i(e){a||(q(n,e),a=!0)},o(e){x(n,e),a=!1},d(e){e&&d(o),n&&n.d(e),s[9](null)}}}function R(s,o,a){const r=["open","modal"];let n=g(o,r),{$$slots:c={},$$scope:t}=o,{open:e=!1}=o,{modal:l=!0}=o,i;function f(){a(5,e=!1)}function A(){a(5,e=!0)}function K(u){a(6,l=u)}function S(u){O[u?"unshift":"push"](()=>{i=u,a(0,i)})}return s.$$set=u=>{o=m(m({},o),N(u)),a(4,n=g(o,r)),"open"in u&&a(5,e=u.open),"modal"in u&&a(6,l=u.modal),"$$scope"in u&&a(7,t=u.$$scope)},s.$$.update=()=>{s.$$.dirty&97&&i&&(e?l?i.showModal():i.show():i.close())},[i,f,A,K,n,e,l,t,c,S]}class X extends j{constructor(o){super(),k(this,o,R,J,b,{open:5,modal:6})}}function U(){const{subscribe:s,set:o,update:a}=I({}),r=E("settings");r&&o(r);function n(t){var e,l;t.openAIKey=(e=t.openAIKey)==null?void 0:e.trim(),t.textToSpeechAPIKey=(l=t.textToSpeechAPIKey)==null?void 0:l.trim(),o(t),y("settings",{...t,openAIKey:t.rememberAIKey?t.openAIKey:void 0,textToSpeechAPIKey:t.rememberAIKey?t.textToSpeechAPIKey:void 0,rememberAIKey:t.rememberAIKey})}function c(t){var e;t.openAIKey=(e=t.openAIKey)==null?void 0:e.trim(),a(l=>{const i={...l,...t};return y("settings",{...i,openAIKey:t.rememberAIKey?i.openAIKey:void 0,textToSpeechAPIKey:t.rememberAIKey?i.textToSpeechAPIKey:void 0}),i})}return{subscribe:s,set:n,update:c}}const Y=U();export{X as D,W as n,Y as s};
