import{s as Ne,f as j,g as W,h as O,d as m,j as $,i as v,E as fe,t as Be,p as _e,e as ye,l as B,a as J,m as q,c as Y,H as de,A as C,n as oe,r as se,I as qe,F as ke,O as pe}from"../chunks/scheduler.d70b54e9.js";import{S as Me,i as Xe,t as x,c as ie,a as y,g as le,b as X,d as F,m as H,e as T,j as Se}from"../chunks/index.4ee4b432.js";import{p as Fe}from"../chunks/stores.92764e2e.js";import{a as he,w as He}from"../chunks/wordList.e69146e4.js";import{C as Ee,B as Z}from"../chunks/checkbox.a7d1d954.js";import{C as Te}from"../chunks/CheckCircled.519ea237.js";import{W as Ge,S as Ke}from"../chunks/wordInformation.a9f83b6f.js";import{g as Le}from"../chunks/navigation.8fa9c937.js";import{e as Re}from"../chunks/singletons.45018de4.js";import{T as me}from"../chunks/textToSpeech.aa2b76e6.js";import{n as Ce,s as Qe}from"../chunks/settings.3b20b7a5.js";import{I as Ue}from"../chunks/utils.4783f3e4.js";var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function Ye(f){if(f.__esModule)return f;var r=f.default;if(typeof r=="function"){var e=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(f).forEach(function(n){var s=Object.getOwnPropertyDescriptor(f,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return f[n]}})}),e}var ge={exports:{}};ge.exports;(function(f){(function(r,e,n){function s(t){var o=this,l=p();o.next=function(){var a=2091639*o.s0+o.c*23283064365386963e-26;return o.s0=o.s1,o.s1=o.s2,o.s2=a-(o.c=a|0)},o.c=1,o.s0=l(" "),o.s1=l(" "),o.s2=l(" "),o.s0-=l(t),o.s0<0&&(o.s0+=1),o.s1-=l(t),o.s1<0&&(o.s1+=1),o.s2-=l(t),o.s2<0&&(o.s2+=1),l=null}function i(t,o){return o.c=t.c,o.s0=t.s0,o.s1=t.s1,o.s2=t.s2,o}function c(t,o){var l=new s(t),a=o&&o.state,u=l.next;return u.int32=function(){return l.next()*4294967296|0},u.double=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.quick=u,a&&(typeof a=="object"&&i(a,l),u.state=function(){return i(l,{})}),u}function p(){var t=4022871197,o=function(l){l=String(l);for(var a=0;a<l.length;a++){t+=l.charCodeAt(a);var u=.02519603282416938*t;t=u>>>0,u-=t,u*=t,t=u>>>0,u-=t,t+=u*4294967296}return(t>>>0)*23283064365386963e-26};return o}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.alea=c})(te,f,!1)})(ge);var Ze=ge.exports,we={exports:{}};we.exports;(function(f){(function(r,e,n){function s(p){var t=this,o="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var a=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^a^a>>>8},p===(p|0)?t.x=p:o+=p;for(var l=0;l<o.length+64;l++)t.x^=o.charCodeAt(l)|0,t.next()}function i(p,t){return t.x=p.x,t.y=p.y,t.z=p.z,t.w=p.w,t}function c(p,t){var o=new s(p),l=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var u=o.next()>>>11,d=(o.next()>>>0)/4294967296,h=(u+d)/(1<<21);while(h===0);return h},a.int32=o.next,a.quick=a,l&&(typeof l=="object"&&i(l,o),a.state=function(){return i(o,{})}),a}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.xor128=c})(te,f,!1)})(we);var et=we.exports,$e={exports:{}};$e.exports;(function(f){(function(r,e,n){function s(p){var t=this,o="";t.next=function(){var a=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(a^a<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,p===(p|0)?t.x=p:o+=p;for(var l=0;l<o.length+64;l++)t.x^=o.charCodeAt(l)|0,l==o.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(p,t){return t.x=p.x,t.y=p.y,t.z=p.z,t.w=p.w,t.v=p.v,t.d=p.d,t}function c(p,t){var o=new s(p),l=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var u=o.next()>>>11,d=(o.next()>>>0)/4294967296,h=(u+d)/(1<<21);while(h===0);return h},a.int32=o.next,a.quick=a,l&&(typeof l=="object"&&i(l,o),a.state=function(){return i(o,{})}),a}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.xorwow=c})(te,f,!1)})($e);var tt=$e.exports,ve={exports:{}};ve.exports;(function(f){(function(r,e,n){function s(p){var t=this;t.next=function(){var l=t.x,a=t.i,u,d;return u=l[a],u^=u>>>7,d=u^u<<24,u=l[a+1&7],d^=u^u>>>10,u=l[a+3&7],d^=u^u>>>3,u=l[a+4&7],d^=u^u<<7,u=l[a+7&7],u=u^u<<13,d^=u^u<<9,l[a]=d,t.i=a+1&7,d};function o(l,a){var u,d=[];if(a===(a|0))d[0]=a;else for(a=""+a,u=0;u<a.length;++u)d[u&7]=d[u&7]<<15^a.charCodeAt(u)+d[u+1&7]<<13;for(;d.length<8;)d.push(0);for(u=0;u<8&&d[u]===0;++u);for(u==8?d[7]=-1:d[u],l.x=d,l.i=0,u=256;u>0;--u)l.next()}o(t,p)}function i(p,t){return t.x=p.x.slice(),t.i=p.i,t}function c(p,t){p==null&&(p=+new Date);var o=new s(p),l=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var u=o.next()>>>11,d=(o.next()>>>0)/4294967296,h=(u+d)/(1<<21);while(h===0);return h},a.int32=o.next,a.quick=a,l&&(l.x&&i(l,o),a.state=function(){return i(o,{})}),a}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.xorshift7=c})(te,f,!1)})(ve);var rt=ve.exports,be={exports:{}};be.exports;(function(f){(function(r,e,n){function s(p){var t=this;t.next=function(){var l=t.w,a=t.X,u=t.i,d,h;return t.w=l=l+1640531527|0,h=a[u+34&127],d=a[u=u+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,h=a[u]=h^d,t.i=u,h+(l^l>>>16)|0};function o(l,a){var u,d,h,k,E,I=[],K=128;for(a===(a|0)?(d=a,a=null):(a=a+"\0",d=0,K=Math.max(K,a.length)),h=0,k=-32;k<K;++k)a&&(d^=a.charCodeAt((k+32)%a.length)),k===0&&(E=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,k>=0&&(E=E+1640531527|0,u=I[k&127]^=d+E,h=u==0?h+1:0);for(h>=128&&(I[(a&&a.length||0)&127]=-1),h=127,k=4*128;k>0;--k)d=I[h+34&127],u=I[h=h+1&127],d^=d<<13,u^=u<<17,d^=d>>>15,u^=u>>>12,I[h]=d^u;l.w=E,l.X=I,l.i=h}o(t,p)}function i(p,t){return t.i=p.i,t.w=p.w,t.X=p.X.slice(),t}function c(p,t){p==null&&(p=+new Date);var o=new s(p),l=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var u=o.next()>>>11,d=(o.next()>>>0)/4294967296,h=(u+d)/(1<<21);while(h===0);return h},a.int32=o.next,a.quick=a,l&&(l.X&&i(l,o),a.state=function(){return i(o,{})}),a}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.xor4096=c})(te,f,!1)})(be);var nt=be.exports,xe={exports:{}};xe.exports;(function(f){(function(r,e,n){function s(p){var t=this,o="";t.next=function(){var a=t.b,u=t.c,d=t.d,h=t.a;return a=a<<25^a>>>7^u,u=u-d|0,d=d<<24^d>>>8^h,h=h-a|0,t.b=a=a<<20^a>>>12^u,t.c=u=u-d|0,t.d=d<<16^u>>>16^h,t.a=h-a|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,p===Math.floor(p)?(t.a=p/4294967296|0,t.b=p|0):o+=p;for(var l=0;l<o.length+20;l++)t.b^=o.charCodeAt(l)|0,t.next()}function i(p,t){return t.a=p.a,t.b=p.b,t.c=p.c,t.d=p.d,t}function c(p,t){var o=new s(p),l=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do var u=o.next()>>>11,d=(o.next()>>>0)/4294967296,h=(u+d)/(1<<21);while(h===0);return h},a.int32=o.next,a.quick=a,l&&(typeof l=="object"&&i(l,o),a.state=function(){return i(o,{})}),a}e&&e.exports?e.exports=c:n&&n.amd?n(function(){return c}):this.tychei=c})(te,f,!1)})(xe);var ot=xe.exports,je={exports:{}};const st={},it=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"})),lt=Ye(it);(function(f){(function(r,e,n){var s=256,i=6,c=52,p="random",t=n.pow(s,i),o=n.pow(2,c),l=o*2,a=s-1,u;function d(_,w,D){var z=[];w=w==!0?{entropy:!0}:w||{};var b=I(E(w.entropy?[_,L(e)]:_??K(),3),z),P=new h(z),A=function(){for(var G=P.g(i),M=t,V=0;G<o;)G=(G+V)*s,M*=s,V=P.g(1);for(;G>=l;)G/=2,M/=2,V>>>=1;return(G+V)/M};return A.int32=function(){return P.g(4)|0},A.quick=function(){return P.g(4)/4294967296},A.double=A,I(L(P.S),e),(w.pass||D||function(G,M,V,Q){return Q&&(Q.S&&k(Q,P),G.state=function(){return k(P,{})}),V?(n[p]=G,M):G})(A,b,"global"in w?w.global:this==n,w.state)}function h(_){var w,D=_.length,z=this,b=0,P=z.i=z.j=0,A=z.S=[];for(D||(_=[D++]);b<s;)A[b]=b++;for(b=0;b<s;b++)A[b]=A[P=a&P+_[b%D]+(w=A[b])],A[P]=w;(z.g=function(G){for(var M,V=0,Q=z.i,ne=z.j,ee=z.S;G--;)M=ee[Q=a&Q+1],V=V*s+ee[a&(ee[Q]=ee[ne=a&ne+M])+(ee[ne]=M)];return z.i=Q,z.j=ne,V})(s)}function k(_,w){return w.i=_.i,w.j=_.j,w.S=_.S.slice(),w}function E(_,w){var D=[],z=typeof _,b;if(w&&z=="object")for(b in _)try{D.push(E(_[b],w-1))}catch{}return D.length?D:z=="string"?_:_+"\0"}function I(_,w){for(var D=_+"",z,b=0;b<D.length;)w[a&b]=a&(z^=w[a&b]*19)+D.charCodeAt(b++);return L(w)}function K(){try{var _;return u&&(_=u.randomBytes)?_=_(s):(_=new Uint8Array(s),(r.crypto||r.msCrypto).getRandomValues(_)),L(_)}catch{var w=r.navigator,D=w&&w.plugins;return[+new Date,r,D,r.screen,L(e)]}}function L(_){return String.fromCharCode.apply(0,_)}if(I(n.random(),e),f.exports){f.exports=d;try{u=lt}catch{}}else n["seed"+p]=d})(typeof self<"u"?self:te,[],Math)})(je);var at=je.exports,ct=Ze,ut=et,ft=tt,pt=rt,dt=nt,ht=ot,re=at;re.alea=ct;re.xor128=ut;re.xorwow=ft;re.xorshift7=pt;re.xor4096=dt;re.tychei=ht;var mt=re;const _t=Je(mt);function gt(f){let r,e;return r=new Ee({props:{class:"min-w-[40rem] h-[90%] grid grid-rows-[93%_auto]",$$slots:{footer:[bt],default:[$t]},$$scope:{ctx:f}}}),{c(){X(r.$$.fragment)},l(n){F(r.$$.fragment,n)},m(n,s){H(r,n,s),e=!0},p(n,s){const i={};s[0]&40|s[1]&64&&(i.$$scope={dirty:s,ctx:n}),r.$set(i)},i(n){e||(y(r.$$.fragment,n),e=!0)},o(n){x(r.$$.fragment,n),e=!1},d(n){T(r,n)}}}function wt(f){let r,e;return r=new Ee({props:{class:"min-w-[25rem]",role:"region","aria-label":"Flashcard for the word",$$slots:{footer:[Xt],header:[Et],default:[It]},$$scope:{ctx:f}}}),{c(){X(r.$$.fragment)},l(n){F(r.$$.fragment,n)},m(n,s){H(r,n,s),e=!0},p(n,s){const i={};s[0]&991|s[1]&64&&(i.$$scope={dirty:s,ctx:n}),r.$set(i)},i(n){e||(y(r.$$.fragment,n),e=!0)},o(n){x(r.$$.fragment,n),e=!1},d(n){T(r,n)}}}function $t(f){let r,e,n;return e=new Ge({props:{word:f[14](f[3])}}),{c(){r=j("div"),X(e.$$.fragment),this.h()},l(s){r=W(s,"DIV",{class:!0});var i=O(r);F(e.$$.fragment,i),i.forEach(m),this.h()},h(){$(r,"class","px-4 py-2")},m(s,i){v(s,r,i),H(e,r,null),n=!0},p(s,i){const c={};i[0]&8&&(c.word=s[14](s[3])),e.$set(c)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){x(e.$$.fragment,s),n=!1},d(s){s&&m(r),T(e)}}}function vt(f){let r;return{c(){r=B("Back")},l(e){r=q(e,"Back")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function bt(f){let r,e,n;return e=new Z({props:{expand:!0,fill:"ghost",color:"light",$$slots:{default:[vt]},$$scope:{ctx:f}}}),e.$on("click",f[31]),{c(){r=j("div"),X(e.$$.fragment),this.h()},l(s){r=W(s,"DIV",{slot:!0});var i=O(r);F(e.$$.fragment,i),i.forEach(m),this.h()},h(){$(r,"slot","footer")},m(s,i){v(s,r,i),H(e,r,null),n=!0},p(s,i){const c={};i[1]&64&&(c.$$scope={dirty:i,ctx:s}),e.$set(c)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){x(e.$$.fragment,s),n=!1},d(s){s&&m(r),T(e)}}}function xt(f){let r,e,n,s,i="Quiz finished",c;return e=new Te({props:{size:48}}),{c(){r=j("div"),X(e.$$.fragment),n=J(),s=j("h1"),s.textContent=i,this.h()},l(p){r=W(p,"DIV",{class:!0,"aria-live":!0});var t=O(r);F(e.$$.fragment,t),n=Y(t),s=W(t,"H1",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-oro39w"&&(s.textContent=i),t.forEach(m),this.h()},h(){$(s,"class","text-center text-3xl opacity-80"),$(r,"class","py-8 flex justify-center items-center flex-col text-emerald-200 min-h-[10rem]"),$(r,"aria-live","polite")},m(p,t){v(p,r,t),H(e,r,null),C(r,n),C(r,s),c=!0},p:se,i(p){c||(y(e.$$.fragment,p),c=!0)},o(p){x(e.$$.fragment,p),c=!1},d(p){p&&m(r),T(e)}}}function yt(f){let r,e,n,s,i,c,p="Knew",t,o,l,a=f[1].length-f[2]+"",u,d,h,k="New or Forgot";return{c(){r=j("div"),e=j("div"),n=j("span"),s=B(f[2]),i=J(),c=j("span"),c.textContent=p,t=J(),o=j("div"),l=j("span"),u=B(a),d=J(),h=j("span"),h.textContent=k,this.h()},l(E){r=W(E,"DIV",{class:!0});var I=O(r);e=W(I,"DIV",{});var K=O(e);n=W(K,"SPAN",{class:!0});var L=O(n);s=q(L,f[2]),L.forEach(m),i=Y(K),c=W(K,"SPAN",{class:!0,"data-svelte-h":!0}),de(c)!=="svelte-1jv8k45"&&(c.textContent=p),K.forEach(m),t=Y(I),o=W(I,"DIV",{});var _=O(o);l=W(_,"SPAN",{class:!0});var w=O(l);u=q(w,a),w.forEach(m),d=Y(_),h=W(_,"SPAN",{class:!0,"data-svelte-h":!0}),de(h)!=="svelte-ove6r8"&&(h.textContent=k),_.forEach(m),I.forEach(m),this.h()},h(){$(n,"class","text-4xl font-bold text-emerald-200"),$(c,"class","text-lg opacity-80"),$(l,"class","text-4xl font-bold text-rose-200"),$(h,"class","text-lg opacity-80"),$(r,"class","flex items-center justify-between py-8 px-8 gap-8 min-h-[10rem] h-full")},m(E,I){v(E,r,I),C(r,e),C(e,n),C(n,s),C(e,i),C(e,c),C(r,t),C(r,o),C(o,l),C(l,u),C(o,d),C(o,h)},p(E,I){I[0]&4&&oe(s,E[2]),I[0]&6&&a!==(a=E[1].length-E[2]+"")&&oe(u,a)},i:se,o:se,d(E){E&&m(r)}}}function kt(f){let r,e,n,s;const i=[Ct,St],c=[];function p(t,o){return t[6]==="guess"?0:1}return e=p(f),n=c[e]=i[e](f),{c(){r=j("div"),n.c(),this.h()},l(t){r=W(t,"DIV",{class:!0,"aria-live":!0});var o=O(r);n.l(o),o.forEach(m),this.h()},h(){$(r,"class","flex justify-center py-8 h-[10rem] items-center flex-col"),$(r,"aria-live","polite")},m(t,o){v(t,r,o),c[e].m(r,null),s=!0},p(t,o){let l=e;e=p(t),e===l?c[e].p(t,o):(le(),x(c[l],1,1,()=>{c[l]=null}),ie(),n=c[e],n?n.p(t,o):(n=c[e]=i[e](t),n.c()),y(n,1),n.m(r,null))},i(t){s||(y(n),s=!0)},o(t){x(n),s=!1},d(t){t&&m(r),c[e].d()}}}function St(f){let r,e,n,s,i,c,p,t,o;e=new Ke({props:{size:32}});function l(d){f[29](d)}function a(d){f[30](d)}let u={label:"Word Spelling",placeholder:"Spell the word",hideLabel:!0,labelClass:"text-[0.8em]",rootClass:"w-[90%] mt-2",spellcheck:"false"};return f[8]!==void 0&&(u.value=f[8]),f[9]!==void 0&&(u.error=f[9]),s=new Ue({props:u}),_e.push(()=>Se(s,"value",l)),_e.push(()=>Se(s,"error",a)),s.$on("keyup",f[18]),{c(){r=j("button"),X(e.$$.fragment),n=J(),X(s.$$.fragment),this.h()},l(d){r=W(d,"BUTTON",{class:!0,"aria-label":!0});var h=O(r);F(e.$$.fragment,h),h.forEach(m),n=Y(d),F(s.$$.fragment,d),this.h()},h(){r.disabled=f[7],$(r,"class","hover:bg-black hover:bg-opacity-30 border border-transparent hover:border-white hover:border-opacity-20 rounded-full p-2 active:bg-black active:bg-opacity-40 disabled:opacity-50 disabled:cursor-not-allowed d-focus "),$(r,"aria-label","Speak the word"),r.autofocus=!0},m(d,h){v(d,r,h),H(e,r,null),f[28](r),v(d,n,h),H(s,d,h),p=!0,r.focus(),t||(o=qe(r,"click",f[16]),t=!0)},p(d,h){(!p||h[0]&128)&&(r.disabled=d[7]);const k={};!i&&h[0]&256&&(i=!0,k.value=d[8],ke(()=>i=!1)),!c&&h[0]&512&&(c=!0,k.error=d[9],ke(()=>c=!1)),s.$set(k)},i(d){p||(y(e.$$.fragment,d),y(s.$$.fragment,d),p=!0)},o(d){x(e.$$.fragment,d),x(s.$$.fragment,d),p=!1},d(d){d&&(m(r),m(n)),T(e),f[28](null),T(s,d),t=!1,o()}}}function Ct(f){let r,e=f[1][f[3]].word+"",n;return{c(){r=j("h1"),n=B(e),this.h()},l(s){r=W(s,"H1",{class:!0});var i=O(r);n=q(i,e),i.forEach(m),this.h()},h(){$(r,"class","capitalize font-bold text-3xl tracking-wide"),pe(r,"text-white",f[1][f[3]].origin==="new"),pe(r,"text-yellow-200",f[1][f[3]].origin==="history")},m(s,i){v(s,r,i),C(r,n)},p(s,i){i[0]&10&&e!==(e=s[1][s[3]].word+"")&&oe(n,e),i[0]&10&&pe(r,"text-white",s[1][s[3]].origin==="new"),i[0]&10&&pe(r,"text-yellow-200",s[1][s[3]].origin==="history")},i:se,o:se,d(s){s&&m(r)}}}function It(f){let r,e,n,s;const i=[kt,yt,xt],c=[];function p(t,o){return t[3]<t[1].length?0:t[4]?1:2}return r=p(f),e=c[r]=i[r](f),{c(){e.c(),n=ye()},l(t){e.l(t),n=ye()},m(t,o){c[r].m(t,o),v(t,n,o),s=!0},p(t,o){let l=r;r=p(t),r===l?c[r].p(t,o):(le(),x(c[l],1,1,()=>{c[l]=null}),ie(),e=c[r],e?e.p(t,o):(e=c[r]=i[r](t),e.c()),y(e,1),e.m(n.parentNode,n))},i(t){s||(y(e),s=!0)},o(t){x(e),s=!1},d(t){t&&m(n),c[r].d(t)}}}function Et(f){let r,e,n=f[3]+1+"",s,i,c=f[1].length+1+"",p,t,o,l,a="Word";return{c(){r=j("div"),e=j("span"),s=B(n),i=B(" of "),p=B(c),o=J(),l=j("h2"),l.textContent=a,this.h()},l(u){r=W(u,"DIV",{slot:!0,class:!0});var d=O(r);e=W(d,"SPAN",{class:!0,"aria-label":!0,"aria-live":!0,"aria-atomic":!0});var h=O(e);s=q(h,n),i=q(h," of "),p=q(h,c),h.forEach(m),o=Y(d),l=W(d,"H2",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1ly00em"&&(l.textContent=a),d.forEach(m),this.h()},h(){$(e,"class","opacity-60 text-sm absolute top-1/2 -translate-y-1/2"),$(e,"aria-label",t=f[3]+1+" of "+(f[1].length+1)+" words"),$(e,"aria-live","polite"),$(e,"aria-atomic","true"),$(l,"class","text-lg font-medium text-center opacity-80"),$(r,"slot","header"),$(r,"class","relative")},m(u,d){v(u,r,d),C(r,e),C(e,s),C(e,i),C(e,p),C(r,o),C(r,l)},p(u,d){d[0]&8&&n!==(n=u[3]+1+"")&&oe(s,n),d[0]&2&&c!==(c=u[1].length+1+"")&&oe(p,c),d[0]&10&&t!==(t=u[3]+1+" of "+(u[1].length+1)+" words")&&$(e,"aria-label",t)},d(u){u&&m(r)}}}function jt(f){let r,e,n,s,i,c,p;return e=new Z({props:{expand:!0,"aria-label":"Finish",color:"success",$$slots:{default:[zt]},$$scope:{ctx:f}}}),e.$on("click",f[15]),s=new Z({props:{expand:!0,"aria-label":"View",fill:"ghost",$$slots:{default:[At]},$$scope:{ctx:f}}}),s.$on("click",f[26]),c=new Z({props:{expand:!0,color:"warning",fill:"ghost","aria-label":"Restart",$$slots:{default:[Dt]},$$scope:{ctx:f}}}),c.$on("click",f[27]),{c(){r=j("div"),X(e.$$.fragment),n=J(),X(s.$$.fragment),i=J(),X(c.$$.fragment),this.h()},l(t){r=W(t,"DIV",{class:!0});var o=O(r);F(e.$$.fragment,o),n=Y(o),F(s.$$.fragment,o),i=Y(o),F(c.$$.fragment,o),o.forEach(m),this.h()},h(){$(r,"class","flex flex-col gap-2")},m(t,o){v(t,r,o),H(e,r,null),C(r,n),H(s,r,null),C(r,i),H(c,r,null),p=!0},p(t,o){const l={};o[1]&64&&(l.$$scope={dirty:o,ctx:t}),e.$set(l);const a={};o[0]&16|o[1]&64&&(a.$$scope={dirty:o,ctx:t}),s.$set(a);const u={};o[1]&64&&(u.$$scope={dirty:o,ctx:t}),c.$set(u)},i(t){p||(y(e.$$.fragment,t),y(s.$$.fragment,t),y(c.$$.fragment,t),p=!0)},o(t){x(e.$$.fragment,t),x(s.$$.fragment,t),x(c.$$.fragment,t),p=!1},d(t){t&&m(r),T(e),T(s),T(c)}}}function Wt(f){let r,e,n,s,i,c;const p=[Pt,Ot],t=[];function o(l,a){return l[6]==="guess"?0:1}return e=o(f),n=t[e]=p[e](f),i=new Z({props:{expand:!0,fill:"ghost",color:"light","aria-label":"See word definition",$$slots:{default:[Mt]},$$scope:{ctx:f}}}),i.$on("click",f[13]),{c(){r=j("div"),n.c(),s=J(),X(i.$$.fragment),this.h()},l(l){r=W(l,"DIV",{class:!0});var a=O(r);n.l(a),s=Y(a),F(i.$$.fragment,a),a.forEach(m),this.h()},h(){$(r,"class","flex flex-col gap-2")},m(l,a){v(l,r,a),t[e].m(r,null),C(r,s),H(i,r,null),c=!0},p(l,a){let u=e;e=o(l),e===u?t[e].p(l,a):(le(),x(t[u],1,1,()=>{t[u]=null}),ie(),n=t[e],n?n.p(l,a):(n=t[e]=p[e](l),n.c()),y(n,1),n.m(r,s));const d={};a[1]&64&&(d.$$scope={dirty:a,ctx:l}),i.$set(d)},i(l){c||(y(n),y(i.$$.fragment,l),c=!0)},o(l){x(n),x(i.$$.fragment,l),c=!1},d(l){l&&m(r),t[e].d(),T(i)}}}function zt(f){let r;return{c(){r=B("Finish")},l(e){r=q(e,"Finish")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function At(f){let r=f[4]?"Hide":"View",e,n;return{c(){e=B(r),n=B(" Stats")},l(s){e=q(s,r),n=q(s," Stats")},m(s,i){v(s,e,i),v(s,n,i)},p(s,i){i[0]&16&&r!==(r=s[4]?"Hide":"View")&&oe(e,r)},d(s){s&&(m(e),m(n))}}}function Dt(f){let r;return{c(){r=B("Restart")},l(e){r=q(e,"Restart")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function Ot(f){let r,e,n,s;return r=new Z({props:{expand:!0,fill:"outline",color:"success","aria-label":"Check my answer",$$slots:{default:[Vt]},$$scope:{ctx:f}}}),r.$on("click",f[17]),n=new Z({props:{expand:!0,fill:"outline",color:"warning","aria-label":"Skip",$$slots:{default:[Nt]},$$scope:{ctx:f}}}),n.$on("click",f[25]),{c(){X(r.$$.fragment),e=J(),X(n.$$.fragment)},l(i){F(r.$$.fragment,i),e=Y(i),F(n.$$.fragment,i)},m(i,c){H(r,i,c),v(i,e,c),H(n,i,c),s=!0},p(i,c){const p={};c[1]&64&&(p.$$scope={dirty:c,ctx:i}),r.$set(p);const t={};c[1]&64&&(t.$$scope={dirty:c,ctx:i}),n.$set(t)},i(i){s||(y(r.$$.fragment,i),y(n.$$.fragment,i),s=!0)},o(i){x(r.$$.fragment,i),x(n.$$.fragment,i),s=!1},d(i){i&&m(e),T(r,i),T(n,i)}}}function Pt(f){let r,e,n,s;return r=new Z({props:{expand:!0,fill:"outline",color:"success","aria-label":"I know the answer",$$slots:{default:[Bt]},$$scope:{ctx:f}}}),r.$on("click",f[10]),n=new Z({props:{expand:!0,fill:"outline",color:"danger","aria-label":"I don't know the answer",$$slots:{default:[qt]},$$scope:{ctx:f}}}),n.$on("click",f[24]),{c(){X(r.$$.fragment),e=J(),X(n.$$.fragment)},l(i){F(r.$$.fragment,i),e=Y(i),F(n.$$.fragment,i)},m(i,c){H(r,i,c),v(i,e,c),H(n,i,c),s=!0},p(i,c){const p={};c[1]&64&&(p.$$scope={dirty:c,ctx:i}),r.$set(p);const t={};c[1]&64&&(t.$$scope={dirty:c,ctx:i}),n.$set(t)},i(i){s||(y(r.$$.fragment,i),y(n.$$.fragment,i),s=!0)},o(i){x(r.$$.fragment,i),x(n.$$.fragment,i),s=!1},d(i){i&&m(e),T(r,i),T(n,i)}}}function Vt(f){let r;return{c(){r=B("Check my answer")},l(e){r=q(e,"Check my answer")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function Nt(f){let r;return{c(){r=B("Skip")},l(e){r=q(e,"Skip")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function Bt(f){let r;return{c(){r=B("I know")},l(e){r=q(e,"I know")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function qt(f){let r;return{c(){r=B("I don't know")},l(e){r=q(e,"I don't know")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function Mt(f){let r;return{c(){r=B("Cheat")},l(e){r=q(e,"Cheat")},m(e,n){v(e,r,n)},d(e){e&&m(r)}}}function Xt(f){let r,e,n,s;const i=[Wt,jt],c=[];function p(t,o){return t[3]<t[1].length?0:1}return e=p(f),n=c[e]=i[e](f),{c(){r=j("div"),n.c(),this.h()},l(t){r=W(t,"DIV",{slot:!0});var o=O(r);n.l(o),o.forEach(m),this.h()},h(){$(r,"slot","footer")},m(t,o){v(t,r,o),c[e].m(r,null),s=!0},p(t,o){let l=e;e=p(t),e===l?c[e].p(t,o):(le(),x(c[l],1,1,()=>{c[l]=null}),ie(),n=c[e],n?n.p(t,o):(n=c[e]=i[e](t),n.c()),y(n,1),n.m(r,null))},i(t){s||(y(n),s=!0)},o(t){x(n),s=!1},d(t){t&&m(r),c[e].d()}}}function Ft(f){let r,e,n,s;const i=[wt,gt],c=[];function p(t,o){return t[5]?1:0}return e=p(f),n=c[e]=i[e](f),{c(){r=j("div"),n.c(),this.h()},l(t){r=W(t,"DIV",{class:!0});var o=O(r);n.l(o),o.forEach(m),this.h()},h(){$(r,"class","w-full h-full flex items-center justify-center")},m(t,o){v(t,r,o),c[e].m(r,null),s=!0},p(t,o){let l=e;e=p(t),e===l?c[e].p(t,o):(le(),x(c[l],1,1,()=>{c[l]=null}),ie(),n=c[e],n?n.p(t,o):(n=c[e]=i[e](t),n.c()),y(n,1),n.m(r,null))},i(t){s||(y(n),s=!0)},o(t){x(n),s=!1},d(t){t&&m(r),c[e].d()}}}function Ie(f){return f.stats.attempts-f.stats.correct}function Ht(f,r,e){let n,s,i,c,p;fe(f,Qe,g=>e(22,s=g)),fe(f,He,g=>e(32,i=g)),fe(f,Fe,g=>e(23,c=g)),fe(f,he,g=>e(33,p=g));let t=p,o={amountOfWords:20,randomSeed:void 0,percentageOfWordsFromHistory:10},l=[],a=0,u=0,d=!1,h=!1,k="guess";function E(g){var R;if(!o.groupBy||g==null)return!0;const S=o.groupBy.childKey;if(!S)return!0;switch(o.groupBy.key){case"link":return!!((R=g.links)!=null&&R.some(N=>N.link===S));default:return!0}}function I(){e(1,l=[]);let g=Math.floor(l.length*(o.percentageOfWordsFromHistory/100));t.sort((N,U)=>Ie(U)-Ie(N));const S=new Set;for(let N=0;N<g&&N<t.length;N++){const U=t[N],ae=i.find(ce=>ce.word===U.word);E(ae)&&l.push({word:U.word,origin:"history"}),S.add(U.word)}const R=o.amountOfWords-l.length;for(let N=0;N<R&&i.length;N++){const U=i[Math.floor(n()*i.length)];S.has(U.word)||(E(U)&&l.push({word:U.word,origin:"new"}),S.add(U.word))}l.sort(()=>n()-.5)}function K(){const g=l[u];e(2,a++,a);const S=t.find(R=>R.word===g.word);S?(S.stats.correct++,S.stats.attempts++,S.lastAttempt=Date.now()):t.push({word:g.word,stats:{correct:1,attempts:1},lastAttempt:Date.now()}),he.set(t),e(3,u++,u)}function L(g=!0){const S=l[u],R=t.find(N=>N.word===S.word);R?(R.stats.attempts++,R.lastAttempt=Date.now()):t.push({word:S.word,stats:{correct:0,attempts:1},lastAttempt:Date.now()}),he.set(t),e(3,u=g?u+1:u)}function _(){e(3,u++,u)}function w(){e(5,h=!0)}function D(g){return i.find(S=>S.word===l[g].word)}function z(){Le(`${Re}/quiz-mode`)}let b=new me,P=!1,A;async function G(){const g=D(u);if(g){e(7,P=!0);try{const S=await b.synthesizeSpeech({text:g.word});if(!S.isValid()){Ce.add({message:"Something went wrong while speaking the word",type:"danger"});return}S.play()}finally{e(7,P=!1)}}}let M="",V="";function Q(){const g=D(u);if(!g)return;M.toLowerCase().trim()===g.word?(Ce.add({message:"Correct spelling!",type:"success",duration:1e3}),K(),e(8,M=""),e(9,V=""),Be().then(()=>{A==null||A.focus()})):(e(9,V="Incorrect spelling, try again"),L(!1))}function ne(g){g.key==="Enter"&&Q()}const ee=()=>L(),We=()=>_(),ze=()=>e(4,d=!d),Ae=()=>e(3,u=0);function De(g){_e[g?"unshift":"push"](()=>{A=g,e(0,A)})}function Oe(g){M=g,e(8,M)}function Pe(g){V=g,e(9,V)}const Ve=()=>e(5,h=!1);return f.$$.update=()=>{if(f.$$.dirty[0]&8388608){const g=c.url.searchParams.get("amt_words")??"20",S=c.url.searchParams.get("seed")??void 0,R=c.url.searchParams.get("perc_history")??"10";let N;try{const ue=c.url.searchParams.get("group_by")??void 0;N=ue?JSON.parse(ue):void 0}catch(ue){console.error(ue)}switch(c.url.searchParams.get("quiz_mode")??"guess"){case"spell":e(6,k="spell");break;default:e(6,k="guess");break}const ae=parseInt(g),ce=parseInt(R);e(19,o={amountOfWords:Number.isNaN(ae)?20:ae,randomSeed:S||void 0,percentageOfWordsFromHistory:Number.isNaN(ce)?10:ce,groupBy:N})}f.$$.dirty[0]&524288&&e(21,n=o.randomSeed?_t.alea(o.randomSeed):Math.random),f.$$.dirty[0]&2097152&&I(),f.$$.dirty[0]&1&&A&&A.focus(),f.$$.dirty[0]&5242880&&(b&&s.textToSpeechAPIKey?e(20,b=new me({apiKey:s.textToSpeechAPIKey})):e(20,b=new me))},[A,l,a,u,d,h,k,P,M,V,K,L,_,w,D,z,G,Q,ne,o,b,n,s,c,ee,We,ze,Ae,De,Oe,Pe,Ve]}class rr extends Me{constructor(r){super(),Xe(this,r,Ht,Ft,Ne,{},null,[-1,-1])}}export{rr as component};
